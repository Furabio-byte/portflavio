<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Portfolio personale di Flavio con progetti, altri lavori, percorso e testi">
  <meta name="theme-color" content="#808000">
  <meta name="color-scheme" content="light dark">
  
  <!-- Sicurezza -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com; style-src 'self' https://fonts.googleapis.com 'unsafe-inline'; script-src 'self';">

  <title>Portflavio - Portfolio Personale</title>

  <!-- Preload ottimizzato -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display+SC:wght@400;900&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
</head>
<body>
  <header>
    <nav class="schede-container" aria-label="Navigazione principale">
      <!-- Project Card -->
      <a href="#project" class="scheda-link" aria-label="Progetti - 2 progetti disponibili">
        <article class="scheda">
          <span class="lettera" aria-hidden="true">P</span>
          <span class="parola">Project</span>
          <span class="numero">2</span>
        </article>
      </a>

      <!-- Others Card -->
      <a href="#others" class="scheda-link" aria-label="Altri lavori">
        <article class="scheda">
          <span class="lettera" aria-hidden="true">O</span>
          <span class="parola">Others</span>
          <span class="numero">0</span>
        </article>
      </a>

      <!-- Road Card -->
      <a href="#road" class="scheda-link" aria-label="Percorso - 2 elementi">
        <article class="scheda">
          <span class="lettera" aria-hidden="true">R</span>
          <span class="parola">Road</span>
          <p class="frase-r" lang="la">
            LOREM IPSUM DOLOR
            SIT AMET, CONSECTETUR
            ADIPISCING ELIT.
          </p>
          <span class="numero">2</span>
        </article>
      </a>

      <!-- Text Card -->
      <a href="#text" class="scheda-link" aria-label="Testi - 5 testi disponibili">
        <article class="scheda">
          <span class="lettera" aria-hidden="true">T</span>
          <span class="parola">Text</span>
          <span class="numero">5</span>
        </article>
      </a>
    </nav>
  </header>

  <main id="main-content">
    <!-- Sezione Projects -->
    <section id="project" class="text-page-container">
      <div class="scheda-text">
        <div class="text-content">
          <h2 class="text-title">Projects</h2>
          <div class="text-description">
            <!-- Contenuto dei progetti -->
          </div>
        </div>
      </div>
    </section>

    <!-- Sezione Others -->
    <section id="others" class="text-page-container">
      <div class="scheda-text">
        <div class="text-content">
          <h2 class="text-title">Others</h2>
          <div class="text-description">
            <!-- Contenuto altri lavori -->
          </div>
        </div>
      </div>
    </section>

    <!-- Sezione Road -->
    <section id="road" class="text-page-container">
      <div class="scheda-text">
        <div class="text-content">
          <h2 class="text-title">Road</h2>
          <div class="text-description">
            <!-- Contenuto percorso -->
          </div>
        </div>
      </div>
    </section>

    <!-- Sezione Text -->
    <section id="text" class="text-page-container">
      <div class="scheda-text">
        <div class="text-content">
          <h2 class="text-title">Text</h2>
          <div class="text-description">
            <!-- Contenuto testi -->
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const easingFunction = (t) => {
        return t < 0.5 
          ? 4 * t * t * t 
          : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;
      };

      const smoothScroll = (targetElement) => {
        const startPosition = window.pageYOffset;
        const targetPosition = targetElement.getBoundingClientRect().top + startPosition;
        const distance = targetPosition - startPosition;
        const duration = 1000;
        let start = null;

        const step = (timestamp) => {
          if (!start) start = timestamp;
          const progress = timestamp - start;
          const percentage = Math.min(progress / duration, 1);
          const easing = easingFunction(percentage);
          
          window.scrollTo(0, startPosition + distance * easing);

          if (progress < duration) {
            window.requestAnimationFrame(step);
          }
        };

        window.requestAnimationFrame(step);
      };

      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          const targetElement = document.querySelector(targetId);
          
          if (targetElement) {
            smoothScroll(targetElement);
            history.pushState(null, '', targetId);
          }
        });
      });
    });
  </script>
</body>
</html>